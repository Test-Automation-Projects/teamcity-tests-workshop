# üõ† QA Automation –ò–Ω—Ç–µ–Ω—Å–∏–≤: –ø–∏—à–µ–º –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 

–ß—Ç–æ –∂, –Ω–∞ —ç—Ç–æ–º –≤–æ—Ä–∫—à–æ–ø–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å –Ω—É–ª—è –Ω–∞–ø–∏—Å–∞—Ç—å API –∏ UI —Ç–µ—Å—Ç—ã –Ω–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞—Å—Ç–æ—è—â–µ–µ! –Ω–µ —Ç–µ—Å—Ç–æ–≤–æ–µ), –≤–Ω–µ–¥—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ CI/CD –∏ –¥–∞–∂–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π review app (—Å–ª–µ–ø–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –≤–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏). –ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ –≤–∞—à–µ –ø–æ—Ä—Ñ—Ç–æ–ª–∏–æ, –ø–æ–≥–Ω–∞–ª–∏!

## 1Ô∏è‚É£ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É, –≥–¥–µ –±—É–¥–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
cd <your folder> #–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –≤–∞—à–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
mkdir workshop #c–æ–∑–¥–∞–µ—Ç–µ –ø–∞–ø–∫—É –≤–æ–∫—Ä—à–æ–ø–∞
```
2. –ó–∞–ø—É—Å–∫–∞–µ–º TeamCity Server. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [—Ç—É—Ç](https://hub.docker.com/r/jetbrains/teamcity-server).

```bash
docker run --name teamcity-server-instance  \
    -v $(pwd)/datadir:/data/teamcity_server/datadir \
    -v $(pwd)/logs:/opt/teamcity/logs  \
    -p 8111:8111 \
    jetbrains/teamcity-server:
```

3. –°–µ—Ç–∞–ø TeamCity Server
- –æ—Ç–∫—Ä—ã–≤–∞–µ–º http://localhost:8111 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –∫–ª–∏–∫–∞–µ–º Proceed –¥–≤–∞–∂–¥—ã
- –ø—Ä–∏–Ω–∏–º–∞–µ–º –ª–∏—Ü–µ–∑–∏—é

## 2Ô∏è‚É£ –ú–∞–Ω—É–∞–ª—å–Ω—ã–π UI —Ç–µ—Å—Ç –∫–µ–π—Å

### –¢–µ—Å—Ç –∫–µ–π—Å

–ü—Ä–æ–≥–æ–Ω—è–µ–º –º–∞–Ω—É–∞–ª—å–Ω–æ –±–∞–∑–æ–≤—ã–π –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç –∫–µ–π—Å: 
—Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–ª–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ CI/CD —Å –≤—ã–≤–æ–¥–æ–º Hello, world! –≤ –∫–æ–Ω—Å–æ–ª—å. 

–ò—Ç–∞–∫, –ø—Ä–æ—Ö–æ–¥–∏–º —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ö–ª–∏–∫–∞–µ–º –Ω–∞ Create project
2. –í–≤–æ–¥–∏–º —Ä–µ–∞–ª—å–Ω—ã–π Repository URL, –∫–ª–∏–∫–∞–µ–º –Ω–∞ Proceed
3. –í—ã–±–∏—Ä–∞–µ–º —Ç–∏–ø Step = Command line
4. –í–≤–æ–¥–∏–º –≤ Custom Script —Å—Ç–µ–ø–∞ echo "Hello, world!"
5. –ù–∞–∂–∏–º–∞–µ–º Run, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–∏–ª–¥. 


### TeamCity Agent

–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞. 

1. –°—Ç–∞—Ä—Ç—É–µ–º TeamCity Agent –≤ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤ [docker.hub](https://hub.docker.com/r/jetbrains/teamcity-agent).

```bash
docker run -e SERVER_URL="<url to TeamCity server>"  \ 
    -v $(pwd)/conf:/data/teamcity_agent/conf  \      
    jetbrains/teamcity-agent
```

–≥–¥–µ `<url to TeamCity server>` - —ç—Ç–æ `http://IP:8111`.

IP –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –∑–∞–ø—Ä–æ—Å–∞ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
`ifconfig | grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' | grep -Eo '([0-9]*\.){3}[0-9]*' | grep -v '127.0.0.1'`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
–î–æ–∂–∏–¥–∞–µ–º—Å—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–∞–Ω–∞ –∏ —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≤–æ –≤–∫–ª–∞–¥–∫–µ Build Log –º—ã –≤–∏–¥–∏–º `Hello, world!`

2. –ê–≤—Ç–æ—Ä–∏–∑—É–µ–º –∞–≥–µ–Ω—Ç–∞ –≤ UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ TeamCity

## 3Ô∏è‚É£ –ú–∞–Ω—É–∞–ª—å–Ω—ã–π API —Ç–µ—Å—Ç –∫–µ–π—Å

–Ø –∏—Å–ø–æ–ª—å–∑—É—é IntelliJ IDEA Ultimate 2022.1.4 –≤–µ—Ä—Å–∏—è. 
–ú–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å [—Ç—É—Ç](https://www.jetbrains.com/ru-ru/idea/download/) –∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è trial –≤–µ—Ä—Å–∏–µ–π. 

1. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å Maven –∏ Java.

###  –¢–µ—Å—Ç –∫–µ–π—Å as a code
2. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ç–µ—Å—Ç –∫–µ–π—Å–∞ —Å–∫–∞—á–∞—Ç—å –ø–ª–∞–≥–∏–Ω [Test Management](https://plugins.jetbrains.com/plugin/15109-test-management) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
3. –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É `test-cases` –∏ –≤ –Ω–µ–π  New -> Test Suite.
4. –û–ø–∏—Å–∞–Ω–∏–µ –º–∞–Ω—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç –∫–µ–π—Å–∞ –ª–µ–∂–∏—Ç [—Ç—É—Ç](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/blob/basic-test/test-cases/Smoke_Test.t.md).

### –ú–∞–Ω—É–∞–ª—å–Ω—ã–π API —Ç–µ—Å—Ç as a code
5. –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É `request-examples` –∏ –≤ –Ω–µ–π –Ω–æ–≤—ã–π [HTTP Request](https://www.jetbrains.com/help/idea/http-client-in-product-code-editor.html) —Ñ–∞–π–ª
6. –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –ø–æ —Ç–µ—Å—Ç –∫–µ–π—Å—É –≤ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–∏–∏ —Å [TeamCity API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π](https://www.jetbrains.com/help/teamcity/teamcity-rest-api.html)
7. –û–ø–∏—Å–∞–Ω–∏–µ –º–∞–Ω—É–∞–ª—å–Ω–æ–≥–æ API —Ç–µ—Å—Ç –∫–µ–π—Å–∞ –ª–µ–∂–∏—Ç [—Ç—É—Ç](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/blob/basic-test/request-examples/Build_Configuration_Test.http).


## 4Ô∏è‚É£ –ë–∞–∑–æ–≤—ã–π API –∞–≤—Ç–æ—Ç–µ—Å—Ç
1. –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π –∞–≤—Ç–æ—Ç–µ—Å—Ç —Å –∏—Å—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [TestNG](https://testng.org/doc/) –∏ [RestAssured](https://rest-assured.io/).
2. –†–µ–∞–ª–∏–∑—É–µ–º [—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é](https://www.javadoc.io/doc/io.rest-assured/rest-assured/3.1.1/io/restassured/specification/RequestSpecification.html) –≤ RestAssured.
3. –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏–∑ JSON –≤ –æ–±—ä–µ–∫—Ç. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è data –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º [Lombok](https://projectlombok.org/) –∏ –µ–≥–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Data` –∏ `@Builder`.
4. –†–µ–∞–ª–∏–∑—É–µ–º –∞—Å—Å–µ—Ä—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞ –∏ –ø–æ–ª—è JSON.


–†–µ–∑—É–ª—å—Ç–∞—Ç —É—Ä–æ–∫–∞ –≤ –≤–µ—Ç–∫–µ [basic-test](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/tree/basic-test), —Å–∞–º —Ç–µ—Å—Ç [BuildConfigurationTest](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/blob/basic-test/src/test/java/api/BuildConfigurationTest.java).

## 5Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ GitHub
–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub.

1. –°–æ–∑–¥–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ö–æ–ø–∏—Ä—É–µ–º Repository URL
3. –û—Ç–∫—Ä—ã–≤–∞–µ–º IDEA –∏ –≤ –º–µ–Ω—é `VCS` -> `Create repository`
4. –î–æ–±–∞–≤–ª—è–µ–º remote —Ä–µ–ø–æ–∑–∏–æ—Ä–∏–π: –≤ –º–µ–Ω—é `VCS` -> `Manage Remotes` -> `+` -> –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Repository URL –∏–∑ GitHub
5. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ç–∫—É –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –Ω–µ—ë: –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ `git checkout -b basic-test`
6. –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–∏–º –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –≤–µ—Ä—Å–∏–∏) –≤ Git —Å –ø–æ–º–æ—â—å—é: –∫–ª–∏–∫ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –ø–æ —Ñ–∞–π–ª—É -> `Git` -> `Add`
7. –ö–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥—è –≤ –≤–∫–ª–∞–¥–∫—É `Commit` –∏ –≤—ã–±–∏—Ä–∞–µ–º —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏–º –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å, –ø–∏—à–µ–º  Commit message, –¥–∞–ª–µ–µ –∂–º—ë–º `Commit` -> `Anyway commit`. 
8. –¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–∏—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: –≤ –º–µ–Ω—é `VSC` -> `Push` -> –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è -> `Push`
9. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–µ—Ö–∞–ª–∏ –¥–æ GitHub :) 

## 6Ô∏è‚É£ –£–ª—É—á—à–∞–µ–º API –∞–≤—Ç–æ—Ç–µ—Å—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, SoftAssertions –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
1. –í—ã–Ω–æ—Å–∏–º –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã: 
* `Requests` –≤—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
* `Specifications` –≤—Å–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
* `CheckedRequests` –≤—Å–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –≤ –æ–±—ä–µ–∫—Ç)
2. –°–æ–∑–¥–∞–µ–º –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ JSON –≤ –æ–±—ä–µ–∫—Ç
3. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ—Å—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤
4. –î–æ–±–∞–≤–ª—è–µ–º Soft Assertions –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
5. –ó–∞–º–µ–Ω—è–µ–º –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

–†–µ–∑—É–ª—å—Ç–∞—Ç —É—Ä–æ–∫–∞ –≤ –≤–µ—Ç–∫–µ [api-test-version-1](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/tree/api-test-version-1), —Å–∞–º —Ç–µ—Å—Ç [BuildConfigurationTest](https://github.com/Test-Automation-Projects/teamcity-tests-workshop/blob/api-test-version-1/src/test/java/api/BuildConfigurationTest.java).


## 7Ô∏è‚É£ –£–ª—É—á—à–∞–µ–º API –∞–≤—Ç–æ—Ç–µ—Å—Ç: 
